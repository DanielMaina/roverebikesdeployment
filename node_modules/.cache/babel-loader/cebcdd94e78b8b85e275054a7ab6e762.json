{"ast":null,"code":"var _jsxFileName = \"/Users/danielmaina/Downloads/rover-ebike-master/src/pages/checkout/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport Select from \"react-select\";\nimport \"./index.css\";\nimport setTitle from \"../../tools.js\";\nimport Paypal from \"../../components/Paypal\";\nimport { cities } from \"../../services/data\";\nimport { CartContext } from \"../../contexts/CartContext\";\nimport { formatNumber } from \"../../helpers/utils\";\nimport { DeleteOutline, Search } from \"@material-ui/icons\";\nimport mastercardIcon from \"../../assets/icons/payment-methods/mastercard.png\";\nimport visaIcon from \"../../assets/icons/payment-methods/visa.png\";\nimport maestroIcon from \"../../assets/icons/payment-methods/maestro.png\";\nimport americanexpressIcon from \"../../assets/icons/payment-methods/americanexpress.png\";\nimport paypalIcon from \"../../assets/icons/payment-methods/paypal.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CheckoutPage = () => {\n  _s();\n\n  useEffect(() => {\n    setTitle(\"Checkout\");\n  }, []);\n  const {\n    total,\n    cartItems,\n    increase,\n    decrease,\n    removeProduct\n  } = useContext(CartContext);\n  const [paymentMethod, setPaymentMethod] = useState();\n  const [processing, setProcessing] = useState(false);\n  const [country, setCountry] = useState(false);\n  const [selectedCity, setSelectedCity] = useState(false);\n  const [formValues, setFormValues] = useState({});\n  const [cityData, setCityData] = useState([]);\n  const [shippingAmount, setShippingAmount] = useState(0);\n  const [taxValue, setTaxValue] = useState({\n    value: 0,\n    amount: 0\n  });\n  const [totalAmount, setTotalAmount] = useState(0);\n  const submitButtonRef = useRef();\n  const citySelectRef = useRef();\n  const countryData = [{\n    value: \"canada\",\n    label: \"Canada\"\n  }, {\n    value: \"usa\",\n    label: \"U.S.A\"\n  }];\n  const customStyles = {\n    option: (provided, state) => ({ ...provided,\n      //borderBottom: \"1px dotted pink\",\n      color: \"black\",\n      textAlign: \"left\" //padding: 20,\n\n    })\n  };\n\n  const cityList = _country => {\n    if (_country === \"canada\") {\n      setCityData(cities.canada.items.map(city => {\n        return {\n          value: city.name,\n          label: city.name\n        };\n      }));\n    } else if (_country === \"usa\") {\n      let keys = Object.keys(cities.usa.items);\n      let usaCityData = [];\n      keys.forEach(key => {\n        let options;\n        options = cities.usa.items[key].sort(function (a, b) {\n          if (a < b) {\n            return -1;\n          }\n\n          if (a > b) {\n            return 1;\n          }\n\n          return 0;\n        });\n        options = options.map(item => {\n          return {\n            label: item,\n            value: item\n          };\n        });\n        let cityObject = {\n          label: key,\n          options: options\n        };\n        usaCityData.push(cityObject);\n      });\n      setCityData(usaCityData);\n    }\n  };\n\n  const countryHandler = e => {\n    setCountry(e.value);\n    citySelectRef.current.select.clearValue();\n    cityList(e.value);\n    let _shippingAmount = cities[e.value].shipping;\n    setShippingAmount(_shippingAmount);\n    setTaxValue({\n      amount: 0,\n      value: 0\n    });\n\n    if (e.value === \"canada\") {\n      setTotalAmount(calculateTotal(e.value));\n    } else {\n      setTotalAmount(parseFloat(total) + parseFloat(_shippingAmount));\n    }\n  };\n\n  const cityHandler = e => {\n    let selectedCity = null;\n\n    if (e) {\n      setSelectedCity(e.value);\n\n      if (country === \"canada\") {\n        selectedCity = cities.canada.items.find(city => city.name === e.value);\n\n        if (selectedCity) {\n          setTaxValue({\n            amount: parseFloat(total) * parseFloat(selectedCity.taxPercantage) / 100,\n            value: selectedCity.taxPercantage\n          });\n          setTotalAmount(calculateTotal(country, selectedCity));\n        }\n      } else {\n        setTaxValue({\n          amount: 0,\n          value: 0\n        });\n        setTotalAmount(calculateTotal(country, selectedCity));\n      }\n    }\n  };\n\n  const calculateTotal = (country, selectedCity = null) => {\n    let totalAmount = parseFloat(total);\n\n    if (country === \"canada\") {\n      let _taxAmount = 0;\n\n      if (selectedCity) {\n        _taxAmount = parseFloat(totalAmount) * parseFloat(selectedCity.taxPercantage) / 100;\n        totalAmount = totalAmount + _taxAmount + parseFloat(shippingAmount);\n      } else {\n        totalAmount = 0;\n      }\n    } else {\n      totalAmount = totalAmount + parseFloat(shippingAmount);\n    }\n\n    return totalAmount;\n  };\n\n  const setFormValue = input => {\n    let _formValues = formValues;\n    _formValues[input.target.name] = input.target.value;\n    setFormValues(_formValues);\n  };\n\n  const validateForm = () => {};\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Shipping Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"#\",\n          method: \"POST\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"*Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"text\",\n              onKeyUp: setFormValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"*Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"name\",\n                type: \"text\",\n                onKeyUp: setFormValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"*Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"last_name\",\n                type: \"text\",\n                onKeyUp: setFormValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"*Street and house number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"street\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"*County\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"country\",\n                isSearchable: false,\n                styles: customStyles,\n                options: countryData,\n                onChange: countryHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"*Province\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"city\",\n                ref: citySelectRef,\n                styles: customStyles,\n                options: cityData,\n                onChange: cityHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"*Zip/Postal Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"zip_code\",\n              type: \"text\",\n              onKeyUp: setFormValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Billing Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dark-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"shipping-address\",\n                id: \"shipping-address-1\",\n                className: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"shipping-address-1\",\n                children: \"Same as shipping address.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"shipping-address\",\n                id: \"shipping-address-2\",\n                className: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"shipping-address-2\",\n                children: \"Different billing address.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Review and Place Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dark-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"review-approve\",\n                id: \"review-approve\",\n                className: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"review-approve\",\n                children: \"Please review the order details above, and when you're ready, click Place Order.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"terms-approve\",\n                id: \"terms-approve\",\n                className: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"terms-approve\",\n                children: \"I agree to the Terms & Conditions,Privacy Policy and Return Policy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group buttons\",\n              children: totalAmount > 0 ? /*#__PURE__*/_jsxDEV(Paypal, {\n                amount: totalAmount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 36\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkout-items\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Your Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), cartItems.map(ci => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [ci.quantity, \"x \", ci.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"CAD \", formatNumber(ci.price * ci.quantity)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action decrease-quantity\",\n                onClick: () => {\n                  decrease(ci);\n                },\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action quantity\",\n                children: ci.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action increase-quantity\",\n                onClick: () => {\n                  increase(ci);\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-action remove\",\n                onClick: () => {\n                  removeProduct(ci);\n                },\n                children: /*#__PURE__*/_jsxDEV(DeleteOutline, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, \"checkout-item-\" + ci.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-payment-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"CAD \", formatNumber(total)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"CAD \", formatNumber(shippingAmount)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Tax (%\", taxValue.value, \") \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"CAD \", formatNumber(taxValue.amount)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-amount\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"CAD \", formatNumber(totalAmount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkout-information\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"All SALES are pre-sale only. All new purchases will be shipped out MID-AUGUST.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CheckoutPage, \"IprcuvP0fpc6gwbFVY9HcC8RnE4=\");\n\n_c = CheckoutPage;\nexport default CheckoutPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"sources":["/Users/danielmaina/Downloads/rover-ebike-master/src/pages/checkout/index.js"],"names":["React","useState","useEffect","useContext","useRef","Select","setTitle","Paypal","cities","CartContext","formatNumber","DeleteOutline","Search","mastercardIcon","visaIcon","maestroIcon","americanexpressIcon","paypalIcon","CheckoutPage","total","cartItems","increase","decrease","removeProduct","paymentMethod","setPaymentMethod","processing","setProcessing","country","setCountry","selectedCity","setSelectedCity","formValues","setFormValues","cityData","setCityData","shippingAmount","setShippingAmount","taxValue","setTaxValue","value","amount","totalAmount","setTotalAmount","submitButtonRef","citySelectRef","countryData","label","customStyles","option","provided","state","color","textAlign","cityList","_country","canada","items","map","city","name","keys","Object","usa","usaCityData","forEach","key","options","sort","a","b","item","cityObject","push","countryHandler","e","current","select","clearValue","_shippingAmount","shipping","calculateTotal","parseFloat","cityHandler","find","taxPercantage","_taxAmount","setFormValue","input","_formValues","target","validateForm","ci","quantity","price","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport Select from \"react-select\";\nimport \"./index.css\";\nimport setTitle from \"../../tools.js\";\n\nimport Paypal from \"../../components/Paypal\";\nimport { cities } from \"../../services/data\";\n\nimport { CartContext } from \"../../contexts/CartContext\";\nimport { formatNumber } from \"../../helpers/utils\";\n\nimport { DeleteOutline, Search } from \"@material-ui/icons\";\nimport mastercardIcon from \"../../assets/icons/payment-methods/mastercard.png\";\nimport visaIcon from \"../../assets/icons/payment-methods/visa.png\";\nimport maestroIcon from \"../../assets/icons/payment-methods/maestro.png\";\nimport americanexpressIcon from \"../../assets/icons/payment-methods/americanexpress.png\";\nimport paypalIcon from \"../../assets/icons/payment-methods/paypal.png\";\n\nconst CheckoutPage = () => {\n  useEffect(() => {\n    setTitle(\"Checkout\");\n  }, []);\n\n  const { total, cartItems, increase, decrease, removeProduct } =\n    useContext(CartContext);\n  const [paymentMethod, setPaymentMethod] = useState();\n  const [processing, setProcessing] = useState(false);\n  const [country, setCountry] = useState(false);\n  const [selectedCity, setSelectedCity] = useState(false);\n  const [formValues, setFormValues] = useState({});\n  const [cityData, setCityData] = useState([]);\n  const [shippingAmount, setShippingAmount] = useState(0);\n  const [taxValue, setTaxValue] = useState({ value: 0, amount: 0 });\n  const [totalAmount, setTotalAmount] = useState(0);\n  const submitButtonRef = useRef();\n  const citySelectRef = useRef();\n\n  const countryData = [\n    { value: \"canada\", label: \"Canada\" },\n    { value: \"usa\", label: \"U.S.A\" },\n  ];\n  const customStyles = {\n    option: (provided, state) => ({\n      ...provided,\n      //borderBottom: \"1px dotted pink\",\n      color: \"black\",\n      textAlign: \"left\",\n      //padding: 20,\n    }),\n  };\n\n  const cityList = (_country) => {\n    if (_country === \"canada\") {\n      setCityData(\n        cities.canada.items.map((city) => {\n          return { value: city.name, label: city.name };\n        })\n      );\n    } else if (_country === \"usa\") {\n      let keys = Object.keys(cities.usa.items);\n      let usaCityData = [];\n\n      keys.forEach((key) => {\n        let options;\n        options = cities.usa.items[key].sort(function (a, b) {\n          if (a < b) {\n            return -1;\n          }\n          if (a > b) {\n            return 1;\n          }\n          return 0;\n        });\n\n        options = options.map((item) => {\n          return { label: item, value: item };\n        });\n        let cityObject = {\n          label: key,\n          options: options,\n        };\n        usaCityData.push(cityObject);\n      });\n\n      setCityData(usaCityData);\n    }\n  };\n  const countryHandler = (e) => {\n    setCountry(e.value);\n    citySelectRef.current.select.clearValue();\n    cityList(e.value);\n\n    let _shippingAmount = cities[e.value].shipping;\n    setShippingAmount(_shippingAmount);\n    setTaxValue({\n      amount: 0,\n      value: 0,\n    });\n\n    if (e.value === \"canada\") {\n      setTotalAmount(calculateTotal(e.value));\n    } else {\n      setTotalAmount(parseFloat(total) + parseFloat(_shippingAmount));\n    }\n  };\n  const cityHandler = (e) => {\n    let selectedCity = null;\n    if (e) {\n      setSelectedCity(e.value);\n\n      if (country === \"canada\") {\n        selectedCity = cities.canada.items.find(\n          (city) => city.name === e.value\n        );\n\n        if (selectedCity) {\n          setTaxValue({\n            amount:\n              (parseFloat(total) * parseFloat(selectedCity.taxPercantage)) /\n              100,\n            value: selectedCity.taxPercantage,\n          });\n          setTotalAmount(calculateTotal(country, selectedCity));\n        }\n      } else {\n        setTaxValue({\n          amount: 0,\n          value: 0,\n        });\n        setTotalAmount(calculateTotal(country, selectedCity));\n      }\n    }\n  };\n  const calculateTotal = (country, selectedCity = null) => {\n    let totalAmount = parseFloat(total);\n\n    if (country === \"canada\") {\n      let _taxAmount = 0;\n      if (selectedCity) {\n        _taxAmount =\n          (parseFloat(totalAmount) * parseFloat(selectedCity.taxPercantage)) /\n          100;\n        totalAmount = totalAmount + _taxAmount + parseFloat(shippingAmount);\n      } else {\n        totalAmount = 0;\n      }\n    } else {\n      totalAmount = totalAmount + parseFloat(shippingAmount);\n    }\n    return totalAmount;\n  };\n\n  const setFormValue = (input) => {\n    let _formValues = formValues;\n    _formValues[input.target.name] = input.target.value;\n    setFormValues(_formValues);\n  };\n\n  const validateForm = () => {};\n\n  return (\n    <div className=\"checkout-page\">\n      <div className=\"checkout-wrapper\">\n        <div className=\"checkout-form\">\n          <h4>Shipping Details</h4>\n          <form action=\"#\" method={\"POST\"}>\n            <div className=\"form-group\">\n              <label>*Email Address</label>\n              <input\n                name={\"email\"}\n                type={\"text\"}\n                onKeyUp={setFormValue}\n              ></input>\n            </div>\n            <div className=\"form-group row\">\n              <div className=\"form-row\">\n                <label>*Name</label>\n                <input\n                  name={\"name\"}\n                  type={\"text\"}\n                  onKeyUp={setFormValue}\n                ></input>\n              </div>\n              <div className=\"form-row\">\n                <label>*Last Name</label>\n                <input\n                  name={\"last_name\"}\n                  type={\"text\"}\n                  onKeyUp={setFormValue}\n                ></input>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>*Street and house number</label>\n              <input name={\"street\"} type={\"text\"}></input>\n            </div>\n            <div className=\"form-group row\">\n              <div className=\"form-row\">\n                <label>*County</label>\n                <Select\n                  name={\"country\"}\n                  isSearchable={false}\n                  styles={customStyles}\n                  options={countryData}\n                  onChange={countryHandler}\n                />\n              </div>\n              <div className=\"form-row\">\n                <label>*Province</label>\n                <Select\n                  name={\"city\"}\n                  ref={citySelectRef}\n                  styles={customStyles}\n                  options={cityData}\n                  onChange={cityHandler}\n                />\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label>*Zip/Postal Code</label>\n              <input\n                name={\"zip_code\"}\n                type={\"text\"}\n                onKeyUp={setFormValue}\n              ></input>\n            </div>\n\n            <h4>Billing Address</h4>\n            <div className=\"dark-box\">\n              <div className=\"form-group row\">\n                <input\n                  type=\"radio\"\n                  name=\"shipping-address\"\n                  id=\"shipping-address-1\"\n                  className=\"inherit\"\n                />\n                <label for=\"shipping-address-1\">\n                  Same as shipping address.\n                </label>\n              </div>\n              <div className=\"form-group row\">\n                <input\n                  type=\"radio\"\n                  name=\"shipping-address\"\n                  id=\"shipping-address-2\"\n                  className=\"inherit\"\n                />\n                <label for=\"shipping-address-2\">\n                  Different billing address.\n                </label>\n              </div>\n            </div>\n\n            <h4>Review and Place Order</h4>\n            <div className=\"dark-box\">\n              <div className=\"form-group row\">\n                <input\n                  type=\"radio\"\n                  name=\"review-approve\"\n                  id=\"review-approve\"\n                  className=\"inherit\"\n                />\n                <label for=\"review-approve\">\n                  Please review the order details above, and when you're ready,\n                  click Place Order.\n                </label>\n              </div>\n              <div className=\"form-group row\">\n                <input\n                  type=\"radio\"\n                  name=\"terms-approve\"\n                  id=\"terms-approve\"\n                  className=\"inherit\"\n                />\n                <label for=\"terms-approve\">\n                  I agree to the Terms & Conditions,Privacy Policy and Return\n                  Policy\n                </label>\n              </div>\n            </div>\n            <div className=\"payment-box\">\n              <h4>Payment</h4>\n              <div className=\"form-group buttons\">\n                {totalAmount > 0 ? <Paypal amount={totalAmount} /> : null}\n              </div>\n            </div>\n          </form>\n        </div>\n        <div className=\"checkout-details\">\n          <div className=\"checkout-items\">\n            <h4>Your Cart</h4>\n            {cartItems.map((ci) => (\n              <div key={\"checkout-item-\" + ci.id} className=\"checkout-item\">\n                <div className=\"product\">\n                  <span>\n                    {ci.quantity}x {ci.name}\n                  </span>\n                  <span>CAD {formatNumber(ci.price * ci.quantity)}</span>\n                </div>\n                <div className=\"action\">\n                  <div\n                    className=\"product-action decrease-quantity\"\n                    onClick={() => {\n                      decrease(ci);\n                    }}\n                  >\n                    -\n                  </div>\n                  <div className=\"product-action quantity\">{ci.quantity}</div>\n                  <div\n                    className=\"product-action increase-quantity\"\n                    onClick={() => {\n                      increase(ci);\n                    }}\n                  >\n                    +\n                  </div>\n                  <span\n                    className=\"product-action remove\"\n                    onClick={() => {\n                      removeProduct(ci);\n                    }}\n                  >\n                    <DeleteOutline />\n                  </span>\n                </div>\n              </div>\n            ))}\n\n            <div className=\"checkout-payment-info\">\n              <div className=\"item\">\n                <span>Subtotal</span>\n                <span>CAD {formatNumber(total)}</span>\n              </div>\n              <div className=\"item\">\n                <span>Shipping</span>\n                <span>CAD {formatNumber(shippingAmount)}</span>\n              </div>\n              <div className=\"item\">\n                <span>Tax (%{taxValue.value}) </span>\n                <span>CAD {formatNumber(taxValue.amount)}</span>\n              </div>\n            </div>\n            <div className=\"checkout-amount\">\n              <span>Total</span>\n              <span>CAD {formatNumber(totalAmount)}</span>\n            </div>\n          </div>\n          <div className=\"checkout-information\">\n            <p>\n              All SALES are pre-sale only. All new purchases will be shipped out\n              MID-AUGUST.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutPage;\n"]},"metadata":{},"sourceType":"module"}